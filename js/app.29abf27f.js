(function(){"use strict";var e={9060:function(e,t,s){var o=s(5130),r=s(6768);function a(e,t,s,o,a,i){const n=(0,r.g2)("GameBoard");return(0,r.uX)(),(0,r.Wv)(n)}var i=s(4232);const n={class:"game-board"},l={class:"score-board"},h={class:"high-score"},c={class:"shape-selection"},u={key:0,class:"game-over-overlay"};function d(e,t,s,a,d,p){const f=(0,r.g2)("Block"),g=(0,r.g2)("CustomPieceCreator");return(0,r.uX)(),(0,r.CE)("div",n,[t[7]||(t[7]=(0,r.Lk)("div",{class:"title"},"Block Blast!",-1)),(0,r.Lk)("div",l,[(0,r.Lk)("div",h,"High Score: "+(0,i.v_)(d.highScore),1),(0,r.Lk)("div",{class:(0,i.C4)(["score",{highlight:d.isHighScoreAnimated}])},(0,i.v_)(d.scoreDisplay),3)]),(0,r.Lk)("div",{class:"grid",onDragover:t[0]||(t[0]=(0,o.D$)(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["prevent"])),onDrop:t[1]||(t[1]=(...e)=>p.handleDrop&&p.handleDrop(...e)),ref:"gameBoard"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.board,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"row",key:t},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["cell",{"filled-cell":e,"hover-cell":p.isHoverCell(t,s)}]),key:s,style:(0,i.Tr)(p.applyCellStyle(e))},null,6)))),128))])))),128))],544),(0,r.Lk)("div",c,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.currentShapes,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t},[(0,r.bF)(f,{shape:d.shapes[e],name:e,index:t,onShapeClicked:p.handleShapeClicked,onShapeDragged:p.handleShapeDragged,onShapeDropped:p.handleShapeDropped},null,8,["shape","name","index","onShapeClicked","onShapeDragged","onShapeDropped"])])))),128))]),d.gameOver?((0,r.uX)(),(0,r.CE)("div",u,[t[6]||(t[6]=(0,r.Lk)("div",{class:"game-over-message"},"Game Over!",-1)),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>p.resetBoard&&p.resetBoard(...e)),class:"restart-button"},"Restart"),d.history.length>0?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>p.undoMove&&p.undoMove(...e)),class:"back-button"},"Back")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),d.history.length>0?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t[4]||(t[4]=(...e)=>p.undoMove&&p.undoMove(...e)),class:"back-button"},"Back")):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>p.openCustomPieceCreator&&p.openCustomPieceCreator(...e)),class:"create-piece-button"},"Create Your Custom Piece"),(0,r.bF)(g,{visible:d.isCustomPieceCreatorVisible,onSave:p.handleCustomPieceSave,onCancel:p.handleCustomPieceCancel},null,8,["visible","onSave","onCancel"])])}s(4114),s(8111),s(1148),s(7588),s(1701),s(3579);function p(e,t,s,o,a,n){return(0,r.uX)(),(0,r.CE)("div",{class:"shape",onMousedown:t[0]||(t[0]=(...e)=>n.handleMouseDown&&n.handleMouseDown(...e)),onDragstart:t[1]||(t[1]=(...e)=>n.handleDragStart&&n.handleDragStart(...e)),onDragend:t[2]||(t[2]=(...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),onTouchstart:t[3]||(t[3]=(...e)=>n.handleTouchStart&&n.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>n.handleTouchMove&&n.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>n.handleTouchEnd&&n.handleTouchEnd(...e)),style:(0,i.Tr)(n.shapeStyle),draggable:"true"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.shape,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"row",key:t},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["block",{fill:n.applyStyles(t,s),dragging:a.isDragging}]),key:s,style:(0,i.Tr)(n.applyStyles(t,s))},null,6)))),128))])))),128))],36)}var f={name:"BlockComponent",props:{name:{type:String,required:!1,default:"Block"},shape:{type:Array,required:!0},index:{type:Number,required:!0}},data(){return{blockStyle:{},offsetX:0,offsetY:0,touchCurrentX:0,touchCurrentY:0,isDragging:!1,color:this.getRandomColor()}},computed:{shapeStyle(){return this.isDragging?{position:"absolute",left:`${this.touchCurrentX}px`,top:`${this.touchCurrentY}px`,zIndex:1e3}:{}}},methods:{applyStyles(e,t){if(this.shape)return this.shape[e][t]?{background:`linear-gradient(145deg, ${this.color}, ${this.color} 50%, ${this.color} 50%, ${this.color} 100%)`}:void 0},handleMouseDown(){this.$emit("shapeClicked",{name:this.name,color:this.color})},handleDragStart(e){e.dataTransfer.setData("name",this.name);const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,o=e.clientY-t.top;e.dataTransfer.setData("offsetX",s),e.dataTransfer.setData("offsetY",o)},handleTouchStart(e){e.preventDefault();const t=e.target.parentElement.getBoundingClientRect();this.offsetX=e.touches[0].clientX-t.left,this.offsetY=e.touches[0].clientY-t.top,this.touchCurrentX=e.touches[0].clientX-this.offsetX,this.touchCurrentY=e.touches[0].clientY-this.offsetY-90*this.shape.length,this.isDragging=!0,this.$emit("shapeClicked",{name:this.name,color:this.color})},handleTouchMove(e){const t=e.touches[0];this.touchCurrentX=t.clientX-this.offsetX,this.touchCurrentY=t.clientY-this.offsetY-90*this.shape.length,this.$emit("shapeDragged",{name:this.name,clientX:t.clientX,clientY:t.clientY-this.offsetY-90*this.shape.length,offsetX:this.offsetX,offsetY:this.offsetY})},handleTouchEnd(e){this.isDragging=!1;const t=e.changedTouches[0];this.$emit("shapeDropped",{name:this.name,clientX:t.clientX,clientY:t.clientY-90*this.shape.length,offsetX:this.offsetX,offsetY:this.offsetY})},getRandomColor(){const e="0123456789ABCDEF";let t="#";for(let s=0;s<6;s++)t+=e[Math.floor(16*Math.random())];return t}}},g=s(1241);const C=(0,g.A)(f,[["render",p]]);var m=C;const v={key:0,class:"custom-piece-overlay"},S={class:"custom-piece-overlay-content"},b={class:"custom-piece-grid"},k=["onClick"],y={class:"custom-piece-controls"},D=["disabled"];function X(e,t,s,o,a,n){return s.visible?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",S,[t[2]||(t[2]=(0,r.Lk)("h2",null,"Create Your Custom Piece",-1)),(0,r.Lk)("div",b,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.piece,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"custom-piece-row",key:t},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["custom-piece-cell",{filled:e}]),key:s,onClick:e=>n.toggleCell(t,s)},null,10,k)))),128))])))),128))]),(0,r.Lk)("div",y,[(0,r.Lk)("button",{class:"custom-piece-button",onClick:t[0]||(t[0]=(...e)=>n.savePiece&&n.savePiece(...e)),disabled:n.blockCount>6},"Save",8,D),(0,r.Lk)("button",{class:"custom-piece-button",onClick:t[1]||(t[1]=(...e)=>n.cancel&&n.cancel(...e))},"Cancel")]),(0,r.Lk)("p",null,"Blocks: "+(0,i.v_)(n.blockCount)+" / 6",1)])])):(0,r.Q3)("",!0)}s(2489);var E={name:"CustomPieceCreator",props:{visible:{type:Boolean,required:!0}},data(){return{piece:Array.from({length:4},(()=>Array(4).fill(0)))}},computed:{blockCount(){return this.piece.flat().filter((e=>1===e)).length}},methods:{toggleCell(e,t){1===this.piece[e][t]?this.piece[e][t]=0:this.blockCount<6&&(this.piece[e][t]=1)},savePiece(){this.$emit("save",this.piece)},cancel(){this.$emit("cancel")}}};const Y=(0,g.A)(E,[["render",X]]);var O=Y,T={components:{Block:m,CustomPieceCreator:O},name:"GameBoard",data(){return{board:Array.from({length:8},(()=>Array(8).fill(null))),shapes:{square:[[1,1],[1,1]],line:[[1,1,1,1]],line2:[[1],[1],[1],[1]],t:[[1,1,1],[0,1,0]],t2:[[1,0],[1,1],[1,0]],t3:[[0,1,0],[1,1,1]],t4:[[0,1],[1,1],[0,1]],single:[[1]],l:[[1,0],[1,0],[1,1]],l2:[[1,1],[0,1],[0,1]],l3:[[1,1],[1,0],[1,0]],l4:[[1,1,1],[0,0,1]],l5:[[1,1,1],[1,0,0]],j:[[0,1],[0,1],[1,1]],s:[[0,1,1],[1,1,0]],z:[[1,1,0],[0,1,1]],bCorner:[[1,1,1],[1,0,0],[1,0,0]],bCorner2:[[0,0,1],[0,0,1],[1,1,1]],bCorner3:[[1,0,0],[1,0,0],[1,1,1]],bCorner4:[[1,1,1],[0,0,1],[0,0,1]],bSquare:[[1,1,1],[1,1,1],[1,1,1]],rectangle:[[1,1,1],[1,1,1]],rectangle2:[[1,1],[1,1],[1,1]],corner:[[1,1],[0,1]],corner2:[[1,0],[1,1]],corner3:[[0,1],[1,1]],corner4:[[1,1],[1,0]],u:[[1,0,1],[1,1,1]],u2:[[1,1,1],[1,0,1]],u3:[[1,1],[0,1],[1,1]],u4:[[1,1],[1,0],[1,1]]},currentShapes:[],selectedShape:"",selectedShapeColor:"",gameOver:!1,score:0,scoreDisplay:0,highScore:0,isHighScoreAnimated:!1,hoverCells:[],history:[],isCustomPieceCreatorVisible:!1}},watch:{score(e,t){this.incrementScoreDisplay(e,t),e>this.highScore&&this.animateHighScore()}},methods:{incrementScoreDisplay(e,t){if(e>t){let s=1;e-t>50?s=10:e-t>10&&(s=5);const o=setInterval((()=>{this.scoreDisplay+=s,this.scoreDisplay>=this.score&&(this.scoreDisplay=this.score,clearInterval(o))}),1)}else this.scoreDisplay=this.score},animateHighScore(){this.isHighScoreAnimated=!0,setTimeout((()=>{this.isHighScoreAnimated=!1}),1e3)},resetBoard(){this.board=Array.from({length:8},(()=>Array(8).fill(null))),this.getRandomShapes(),this.gameOver=!1,this.highScore=Math.max(this.highScore,this.score),localStorage.setItem("highScore",this.highScore),this.score=0,this.history=[]},addShape(e,t,s){if(!this.checkCollision(e,t,s)){this.saveState();for(let o=0;o<e.length;o++)for(let r=0;r<e[o].length;r++)1===e[o][r]&&(this.board[t+o][s+r]=this.selectedShapeColor,this.score+=1);this.removeShape(this.selectedShape),setTimeout((()=>{this.checkRows(),this.checkColumns(),setTimeout((()=>{this.gameOver=this.checkGameOver()}),1e3)}),500)}},checkCollision(e,t,s){for(let o=0;o<e.length;o++)for(let r=0;r<e[o].length;r++)if(1===e[o][r]&&(void 0===this.board[t+o]||void 0===this.board[t+o][s+r]||null!==this.board[t+o][s+r]))return!0;return!1},checkRows(){for(let e=0;e<this.board.length;e++)this.board[e].every((e=>null!==e))&&(this.board[e].forEach(((t,s)=>{setTimeout((()=>{this.board[e].splice(s,1,null)}),10*s)})),this.score+=40)},checkColumns(){for(let e=0;e<this.board[0].length;e++)this.board.every((t=>null!==t[e]))&&(this.board.forEach(((t,s)=>{setTimeout((()=>{this.board[s].splice(e,1,null)}),10*s)})),this.score+=40)},checkGameOver(){for(let e of this.currentShapes)for(let t=0;t<=this.board.length-this.shapes[e].length;t++)for(let s=0;s<=this.board[0].length-this.shapes[e][0].length;s++)if(!this.checkCollision(this.shapes[e],t,s))return!1;return!0},handleShapeClicked(e){this.selectedShape=e.name,this.selectedShapeColor=e.color},handleShapeDragged(e){const t=parseFloat(e.offsetX),s=parseFloat(e.offsetY),o=this.$refs.gameBoard.getBoundingClientRect(),r=e.clientX-o.left-t,a=e.clientY-o.top-s,i=Math.floor(a/40),n=Math.floor(r/40);this.updateHoverCells(this.shapes[this.selectedShape],i,n)},handleShapeDropped(e){const t=parseFloat(e.offsetX),s=parseFloat(e.offsetY),o=this.$refs.gameBoard.getBoundingClientRect(),r=e.clientX-o.left-t,a=e.clientY-o.top-s,i=Math.floor(a/40),n=Math.floor(r/40);this.addShape(this.shapes[this.selectedShape],i,n),this.clearHoverCells()},handleDrop(e){const t=e.dataTransfer.getData("name");if(!t)return;const s=parseFloat(e.dataTransfer.getData("offsetX")),o=parseFloat(e.dataTransfer.getData("offsetY")),r=this.$refs.gameBoard.getBoundingClientRect(),a=e.clientX-r.left-s,i=e.clientY-r.top-o,n=Math.floor(i/40),l=Math.floor(a/40);this.addShape(this.shapes[t],n,l),this.clearHoverCells()},removeShape(e){const t=this.currentShapes.indexOf(e);t>-1&&this.currentShapes.splice(t,1),0===this.currentShapes.length&&this.getRandomShapes()},getRandomShapes(){this.currentShapes=Array.from({length:3},(()=>Object.keys(this.shapes)[Math.floor(Math.random()*Object.keys(this.shapes).length)])),this.checkGameOver()&&this.getRandomShapes()},applyCellStyle(e){return null!==e?{background:`linear-gradient(145deg, ${e}, ${e} 50%, ${e} 50%, ${e} 100%)`}:{}},updateHoverCells(e,t,s){if(this.hoverCells=[],!this.checkCollision(e,t,s))for(let o=0;o<e.length;o++)for(let r=0;r<e[o].length;r++)1===e[o][r]&&this.hoverCells.push({row:t+o,col:s+r})},clearHoverCells(){this.hoverCells=[]},isHoverCell(e,t){return this.hoverCells.some((s=>s.row===e&&s.col===t))},saveState(){this.history.push({board:JSON.parse(JSON.stringify(this.board)),score:this.score,currentShapes:JSON.parse(JSON.stringify(this.currentShapes))})},undoMove(){if(this.history.length>0){const e=this.history.pop();this.board=e.board,this.score=e.score,this.currentShapes=e.currentShapes,this.gameOver=!1}},openCustomPieceCreator(){this.isCustomPieceCreatorVisible=!0},handleCustomPieceSave(e){this.isCustomPieceCreatorVisible=!1;const t=e.map((e=>e.map((e=>e?1:0))));this.shapes.custom=t,this.currentShapes.push("custom")},handleCustomPieceCancel(){this.isCustomPieceCreatorVisible=!1}},mounted(){const e=localStorage.getItem("highScore");null!==e&&(this.highScore=parseInt(e,10)),this.resetBoard()}};const B=(0,g.A)(T,[["render",d]]);var M=B,P={name:"App",components:{GameBoard:M}};const w=(0,g.A)(P,[["render",a]]);var $=w;(0,o.Ef)($).mount("#app")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var n=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(n=!1,a<i&&(i=a));if(n){e.splice(c--,1);var h=r();void 0!==h&&(t=h)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,i=o[0],n=o[1],l=o[2],h=0;if(i.some((function(t){return 0!==e[t]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(l)var c=l(s)}for(t&&t(o);h<i.length;h++)a=i[h],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},o=self["webpackChunkblock_blast"]=self["webpackChunkblock_blast"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(9060)}));o=s.O(o)})();
//# sourceMappingURL=app.29abf27f.js.map