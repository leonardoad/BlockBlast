(function(){"use strict";var e={6546:function(e,t,r){var o=r(5130),n=r(6768);function a(e,t,r,o,a,s){const l=(0,n.g2)("GameBoard");return(0,n.uX)(),(0,n.Wv)(l)}var s=r(4232);const l={class:"game-board"},h={class:"score-board"},i={class:"shape-selection"},c={key:0,class:"game-over-overlay"};function u(e,t,r,a,u,d){const p=(0,n.g2)("Block");return(0,n.uX)(),(0,n.CE)("div",l,[t[4]||(t[4]=(0,n.Lk)("h1",null,"Block Blast!",-1)),(0,n.Lk)("div",h,[(0,n.Lk)("div",null,"High Score: "+(0,s.v_)(u.highScore),1),(0,n.Lk)("h3",null,"Score: "+(0,s.v_)(u.score),1)]),(0,n.Lk)("div",{class:"grid",onDragover:t[0]||(t[0]=(0,o.D$)((()=>{}),["prevent"])),onDrop:t[1]||(t[1]=(...e)=>d.handleDrop&&d.handleDrop(...e)),ref:"gameBoard"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.board,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"row",key:t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["cell",{"filled-cell":e}]),key:t,style:(0,s.Tr)(d.applyCellStyle(e))},null,6)))),128))])))),128))],544),(0,n.Lk)("div",i,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.currentShapes,((t,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r},[(0,n.bF)(p,{shape:u.shapes[t],name:t,index:r,onShapeClicked:d.handleShapeClicked,onShapeDragged:e.handleShapeDragged,onShapeDropped:d.handleShapeDropped},null,8,["shape","name","index","onShapeClicked","onShapeDragged","onShapeDropped"])])))),128))]),u.gameOver?((0,n.uX)(),(0,n.CE)("div",c,[t[3]||(t[3]=(0,n.Lk)("div",{class:"game-over-message"},"Game Over!",-1)),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>d.resetBoard&&d.resetBoard(...e)),class:"restart-button"},"Restart")])):(0,n.Q3)("",!0)])}r(8111),r(1148),r(7588);function d(e,t,r,o,a,l){return(0,n.uX)(),(0,n.CE)("div",{class:"shape",onMousedown:t[0]||(t[0]=(...e)=>l.handleMouseDown&&l.handleMouseDown(...e)),onDragstart:t[1]||(t[1]=(...e)=>l.handleDragStart&&l.handleDragStart(...e)),onDragend:t[2]||(t[2]=(...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),onTouchstart:t[3]||(t[3]=(...e)=>l.handleTouchStart&&l.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>l.handleTouchMove&&l.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>l.handleTouchEnd&&l.handleTouchEnd(...e)),style:(0,s.Tr)(l.shapeStyle),draggable:"true"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.shape,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"row",key:t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,((e,r)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(l.applyStyles(t,r)?"block fill":"block"),key:r,style:(0,s.Tr)(l.applyStyles(t,r))},null,6)))),128))])))),128))],36)}var p={name:"BlockComponent",props:{name:{type:String,required:!1,default:"Block"},shape:{type:Array,required:!0},index:{type:Number,required:!0}},data(){return{blockStyle:{},offsetX:0,offsetY:0,touchCurrentX:0,touchCurrentY:0,isDragging:!1,color:this.getRandomColor()}},computed:{shapeStyle(){return this.isDragging?{position:"absolute",left:`${this.touchCurrentX}px`,top:`${this.touchCurrentY}px`,zIndex:1e3}:{}}},methods:{applyStyles(e,t){if(this.shape)return this.shape[e][t]?{background:`linear-gradient(145deg, ${this.color}, ${this.color} 50%, ${this.color} 50%, ${this.color} 100%)`}:void 0},handleMouseDown(){this.$emit("shapeClicked",{name:this.name,color:this.color})},handleDragStart(e){e.dataTransfer.setData("name",this.name);const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,o=e.clientY-t.top;e.dataTransfer.setData("offsetX",r),e.dataTransfer.setData("offsetY",o)},handleTouchStart(e){e.preventDefault();const t=e.target.parentElement.getBoundingClientRect();this.offsetX=e.touches[0].clientX-t.left,this.offsetY=e.touches[0].clientY-t.top,this.touchCurrentX=e.touches[0].clientX-this.offsetX,this.touchCurrentY=e.touches[0].clientY-this.offsetY,this.isDragging=!0,this.$emit("shapeClicked",{name:this.name,color:this.color})},handleTouchMove(e){const t=e.touches[0];this.touchCurrentX=t.clientX-this.offsetX,this.touchCurrentY=t.clientY-this.offsetY},handleTouchEnd(e){this.isDragging=!1;const t=e.changedTouches[0];this.$emit("shapeDropped",{name:this.name,clientX:t.clientX,clientY:t.clientY,offsetX:this.offsetX,offsetY:this.offsetY})},getRandomColor(){const e="0123456789ABCDEF";let t="#";for(let r=0;r<6;r++)t+=e[Math.floor(16*Math.random())];return t}}},f=r(1241);const g=(0,f.A)(p,[["render",d]]);var m=g,v={components:{Block:m},name:"GameBoard",data(){return{board:Array.from({length:8},(()=>Array(8).fill(null))),shapes:{square:[[1,1],[1,1]],line:[[1,1,1,1]],line2:[[1],[1],[1],[1]],t:[[1,1,1],[0,1,0]],t2:[[1,0],[1,1],[1,0]],t3:[[0,1,0],[1,1,1]],t4:[[0,1],[1,1],[0,1]],single:[[1]],l:[[1,0],[1,0],[1,1]],l2:[[1,1],[0,1],[0,1]],l3:[[1,1],[1,0],[1,0]],l4:[[1,1,1],[0,0,1]],l5:[[1,1,1],[1,0,0]],j:[[0,1],[0,1],[1,1]],s:[[0,1,1],[1,1,0]],z:[[1,1,0],[0,1,1]],bSquare:[[1,1,1],[1,1,1],[1,1,1]],rectangle:[[1,1,1,1],[1,1,1,1]]},currentShapes:[],selectedShape:"",gameOver:!1,score:0,highScore:0}},methods:{resetBoard(){this.board=Array.from({length:8},(()=>Array(8).fill(null))),this.getRandomShapes(),this.gameOver=!1,this.highScore=Math.max(this.highScore,this.score),localStorage.setItem("highScore",this.highScore),this.score=0},addShape(e,t,r){if(!this.checkCollision(e,t,r)){for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length;n++)1===e[o][n]&&(this.board[t+o][r+n]=this.selectedShapeColor);this.removeShape(this.selectedShape),setTimeout((()=>{this.checkRows(),this.checkColumns()}),500),this.checkGameOver()}},checkCollision(e,t,r){for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length;n++)if(1===e[o][n]&&(void 0===this.board[t+o]||void 0===this.board[t+o][r+n]||null!==this.board[t+o][r+n]))return!0;return!1},checkRows(){for(let e=0;e<this.board.length;e++)this.board[e].every((e=>null!==e))&&(this.board.splice(e,1,Array(8).fill(null)),this.score+=10)},checkColumns(){for(let e=0;e<this.board[0].length;e++)this.board.every((t=>null!==t[e]))&&(this.board.forEach((t=>t[e]=null)),this.score+=10)},checkGameOver(){for(let e of this.currentShapes)for(let t=0;t<=this.board.length-this.shapes[e].length;t++)for(let r=0;r<=this.board[0].length-this.shapes[e][0].length;r++)if(!this.checkCollision(this.shapes[e],t,r))return!1;return this.gameOver=!0,!0},handleShapeClicked(e){this.selectedShape=e.name,this.selectedShapeColor=e.color},handleShapeDropped(e){const t=parseFloat(e.offsetX),r=parseFloat(e.offsetY),o=this.$refs.gameBoard.getBoundingClientRect(),n=e.clientX-o.left-t,a=e.clientY-o.top-r,s=Math.floor(a/40),l=Math.floor(n/40);this.addShape(this.shapes[this.selectedShape],s,l)},handleDrop(e){const t=e.dataTransfer.getData("name");if(!t)return;const r=parseFloat(e.dataTransfer.getData("offsetX")),o=parseFloat(e.dataTransfer.getData("offsetY")),n=this.$refs.gameBoard.getBoundingClientRect(),a=e.clientX-n.left-r,s=e.clientY-n.top-o,l=Math.floor(s/40),h=Math.floor(a/40);this.addShape(this.shapes[t],l,h)},removeShape(e){const t=this.currentShapes.indexOf(e);t>-1&&this.currentShapes.splice(t,1),0===this.currentShapes.length&&this.getRandomShapes()},getRandomShapes(){this.currentShapes=Array.from({length:3},(()=>Object.keys(this.shapes)[Math.floor(Math.random()*Object.keys(this.shapes).length)]))},applyCellStyle(e){return null!==e?{background:`linear-gradient(145deg, ${e}, ${e} 50%, ${e} 50%, ${e} 100%)`}:{}}},mounted(){const e=localStorage.getItem("highScore");null!==e&&(this.highScore=parseInt(e,10)),this.resetBoard()}};const S=(0,f.A)(v,[["render",u]]);var k=S,C={name:"App",components:{GameBoard:k}};const b=(0,f.A)(C,[["render",a]]);var y=b;(0,o.Ef)(y).mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],a=e[c][2];for(var l=!0,h=0;h<o.length;h++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[h])}))?o.splice(h--,1):(l=!1,a<s&&(s=a));if(l){e.splice(c--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,s=o[0],l=o[1],h=o[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(h)var c=h(r)}for(t&&t(o);i<s.length;i++)a=s[i],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self["webpackChunkblock_blast"]=self["webpackChunkblock_blast"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(6546)}));o=r.O(o)})();
//# sourceMappingURL=app.4fcf66d9.js.map